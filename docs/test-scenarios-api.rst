سناریو های تست API
===================


.. سناریو های لاگین
.. ----

.. لاگین کاربر ناشناس
.. ^^^^

سناریو های تست مستندات
----------------------

.. list-table:: سناریو تست مستندات
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
    - توسعه یافته؟
  * - swagger
    - سوپریوزر **باید** بتواند آن را ببیند
    - ✅
  * - swagger
    - استف یوزر **نباید** بتواند آن را ببیند
    - ✅
  * - swagger
    - کاربر لاگین کرده **نباید** بتواند آن را ببیند
    - ✅
  * - swagger
    - کاربر ناشناس **نباید** بتواند آن را ببیند
    - ✅
  * - redoc
    - سوپریوزر **باید** بتواند آن را ببیند
    - ✅
  * - redoc
    - استف یوزر **نباید** بتواند آن را ببیند
    - ✅
  * - redoc
    - کاربر لاگین کرده **نباید** بتواند آن را ببیند
    - ✅
  * - redoc
    - کاربر ناشناس **نباید** بتواند آن را ببیند
    - ✅
  

سناریو های تست لاگین
-------------------------

.. list-table:: سناریو های لاگین
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
    - توسعه یافته؟
  * - لاگین
    - کاربر ناشناس باید بتواند با اطلاعات ldap اش لاگین کند
    - ✅
  * - لاگین
    - کاربر ناشناس باید بتواند با یوزرنیم و پسوردی که در جنگو ادمین برایش ساخته شده لاگین کند
    - ✅
  * - لاگین
    - کاربری که لاگین کرده باید بتواند دوباره لاگین کند؟
    - ✅
  * - رفرش توکن
    - کاربر ناشناس نباید بتواند توکنش را تازه سازی کند
    - ✅
  * - رفرش توکن
    - کاربری که لاگین کرده باید بتواند توکنش را رفرش کند
    - ✅
  * - انقضای توکن
    - توکن قبل از یک ساعت باید معتبر باشد
    - ✅
  * - انقضای توکن
    - توکن پس از یک ساعت باید منقضی شود
    - ✅
  * - انقضای رفرش توکن
    - رفرش توکن قبل از یک روز نباید منقضی شود
    - ✅
  * - انقضای رفرش توکن
    - رفرش توکن پس از یک روز باید منقضی شود
    - ✅
  * - خروج
    - کاربری که لاگین کرده باید بتواند توکنش را منقضی کند
    - ❌
  * - خروج
    - کاربری که لاگین نیست نباید بتواند توکنی را منقضی کند
    - ❌


سناریو های تست کاربران
-------------------------

.. list-table:: سناریو های تست کاربران
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
    - توسعه یافته؟
  * - لیست کاربران
    - کاربر ناشناس نباید بتواند لیست کاربران را ببیند
    - ✅
  * - لیست کاربران
    - کاربری که لاگین کرده باید بتواند لیست کاربرانی که در حال شرکت در آزمون هستند را ببیند
    - ❌
  * - لیست کاربران
    - سوپر یوزر باید بتواند لیست کاربرانی که در حال شرکت در آزمون هستند را ببیند
    - ❌
  * - جزئیات کاربر
    - کاربر ناشناس نباید بتواند جزئیات کاربر را ببیند
    - ✅
  * - جزئیات کاربر
    - کاربری که لاگین کرده نباید بتواند جزئیات کاربر دیگری را ببیند
    - ✅
  * - جزئیات کاربر
    - سوپر یوزر نباید بتواند جزئیات یک کاربر را ببیند
    - ✅
  * - ویرایش کاربر
    - کاربر ناشناس نباید بتواند کاربر را ویرایش کند
    - ✅
  * - ویرایش کاربر
    - کاربری که لاگین کرده نباید بتواند کاربر را ویرایش کند
    - ✅
  * - ویرایش کاربر
    - سوپر یوزر نباید بتواند کاربر را ویرایش کند
    - ✅
  * - حذف کاربر
    - کاربر ناشناس نباید بتواند کاربر را حذف کند
    - ✅
  * - حذف کاربر
    - کاربری که لاگین کرده نباید بتواند کاربر را حذف کند
    - ✅
  * - حذف کاربر
    - سوپر یوزر نباید بتواند کاربر را حذف کند
    - ✅
  * - آنلاین بودن کاربر
    - وضعیت آنلاین بودن هر کاربر پس از گذشت ۱۰ ثانیه باید آفلاین شود
    - ✅
  

سناریو های تست آزمون
--------------------------

.. list-table:: سناریو های api آزمون
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
  * - لیست آزمون‌ها
    - کاربر ناشناس نباید بتواند لیست آزمون‌ها را ببیند
  * - لیست آزمون‌ها
    - کاربری که لاگین کرده باید بتواند لیست آزمون‌های **active** و **finished** اند را ببیند
  * - لیست آزمون‌ها
    - سوپر یوزر باید لیست همه آزمون‌ها در همه وضعیت ها را ببیند
  * - جزئیات آزمون
    - کاربر ناشناس نباید بتواند جزئیات آزمون را ببیند
  * - جزئیات آزمون
    - کاربری که لاگین کرده فقط باید بتواند **عنوان** و **وضعیت** آزمون را ببیند
  * - جزئیات آزمون
    - سوپر یوزر باید بتواند **عنوان** و **‌وضعیت** آزمون و **عنوان سوالات** را ببیند
  * - ایجاد آزمون
    - هیچ کس نباید بتواند آزمون ایجاد کند. به عبارتی نباید بتواند متد **POST** را فراخوانی کند
  * - ویرایش آزمون
    - هیچ کس نباید بتواند آزمون را ویرایش کند. به عبارتی نباید بتواند متد **PUT** یا **PATCH** را فراخوانی کند
  * - حذف آزمون
    - هیچ کس نباید بتواند هیچ آزمونی را حذف کند


سناریو های تست سوالات
-------------------------

.. list-table:: سناریو های api سوالات
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
  * - لیست سوالات
    - هیچ کس نباید بتواند لیست سوالات را ببیند
  * - جزئیات سوال
    - فقط کاربرانی که لاگین کرده اند در زمانی که سوال **start_datetime** دارد باید بتوانند سوال را ببینند
  * - اضافه کردن سوال
    - هیچ کس نباید بتواند سوال اضافه کند. به عبارتی نباید بتواند متد **POST** را فراخوانی کند
  * - ویرایش سوال
    - هیچ کس نباید بتواند هیچ سوالی را ویرایش کند. به عبارتی نباید بتواند متد **PUT** و **PATCH** را فراخوانی کند
  * - حذف سوال
    - هیچ کس نباید بتواند سوال را حذف کند
  * - غیر فعال شدن سوال
    - اگر مدت زمان پاسخگویی برابر x باشد، start_datetime باید پس از x+5 ثانیه خالی شود


سناریو های تست پاسخ ها
---------------------------

.. list-table:: سناریو های api پاسخ‌ها
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
  * - لیست پاسخ ها
    - هیچ کس نباید بتواند لیست پاسخ ها را ببیند
  * - جزئیات پاسخ ها
    - هیچ کس نباید بتواند جزئیات پاسخ را ببیند
  * - ویرایش پاسخ
    - هیچ کس نباید بتواند پاسخ را ویرایش کند
  * - حذف پاسخ
    - هیچ کس نباید بتواند هیچ پاسخی را حذف کند
  

سناریو های تست پاسخ های کاربر
-----------------------------

.. list-table:: سناریو های api پاسخ کاربر
  :header-rows: 1

  * - عنوان سناریو
    - توضیحات سناریو
  * - لیست پاسخ‌ها
    - هیچ کس نباید بتواند لیست پاسخ ها را ببیند
  * - جزئیات پاسخ
    - هیچ کس نباید بتواند جزئیات پاسخ را ببیند
  * - افزودن پاسخ
    - فقط کاربری که لاگین کرده فقط در زمانی که سوال **start_datetime** دارد باید بتواند پاسخ ثبت کند
  * - افزودن پاسخ
    - هر کاربر باید بتواند فقط یک پاسخ برای هر سوال ثبت کند
  * - افزودن پاسخ
    - یک کاربر نباید بتواند یک پاسخ را برای یک سوال دیگر ثبت کند
  * - افزودن پاسخ
    - یک کاربر نباید بتواند چند پاسخ را به صورت همزمان ثبت کند
  * - افزودن پاسخ
    - یک کاربر نباید بتواند یک پاسخ را برای یک سوال چند بار ثبت کند
  * - افزودن پاسخ
    - یک کاربر نباید بتواند یک پاسخ را برای یک کاربر دیگر ثبت کند
  * - افزودن پاسخ
    - یک کاربر نباید بتواند یک پاسخ خالی برای یک سوال ثبت کند
  * - ویرایش پاسخ
    - هیچ کاربری تحت هیچ شرایطی نباید بتواند هیچ پاسخی را ویرایش کند
  * - حذف پاسخ
    - هیچ کاربری نباید بتواند پاسخی را حذف کند